{% extends "candidates/base.xhtml" %} {% block title %}Vote{% endblock %} {%
block content %}
<style>
  /* Your existing styles */
</style>

<div class="vote-container">
  {% for message in messages %}
  <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">
    {{ message }}
  </div>
  {% endfor %} {% if election.is_upcoming %}
  <h2>Upcoming Election: {{ election.title }}</h2>
  <p>You cannot vote yet. Here are the candidates:</p>
  <div class="candidates-list">
    {% for candidate in candidates %}
    <div class="candidate-item">
      <img src="{{ candidate.picture.url }}" alt="Candidate Photo" />
      <strong>{{ candidate.first_name }} {{ candidate.last_name }}</strong>
      <p class="candidate-motto">{{ candidate.motto }}</p>
    </div>
    {% endfor %}
  </div>
  {% elif election.is_ongoing %}
  <h2>Vote for Candidates</h2>

  <form method="post" action="">
    {% csrf_token %} {% for field in form %}
    <div class="form-group">
      <div class="candidate-item">
        <div class="candidate-details">
          <img
            src="{{ field.field.queryset.first.picture.url }}"
            alt="Candidate Photo"
          />
          <div>
            <strong
              >{{ field.field.queryset.first.first_name }} {{
              field.field.queryset.first.last_name }}</strong
            >
            <p class="candidate-motto">
              {{ field.field.queryset.first.motto }}
            </p>
          </div>
        </div>
        {{ field }}
      </div>
    </div>
    {% endfor %}

    <button type="submit" class="btn-submit">Submit Vote</button>
  </form>
  {% else %}
  <h2>This election has ended.</h2>
  {% endif %}
</div>
{% endblock %}
